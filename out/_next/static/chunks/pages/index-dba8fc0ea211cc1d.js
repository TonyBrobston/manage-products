(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},6616:function(e,t,n){"use strict";n.r(t);var i=n(5893),r=n(7294),l=n(3156),a=n(7357),s=n(6886),d=n(9048),o=n(3872),u=n(4722),c=n(9763),p=n(4519),h=n(5055);let x=e=>({layout:{width:600,marginLeft:"auto",marginRight:"auto"},paper:{marginTop:e.spacing(6),marginBottom:e.spacing(6),padding:e.spacing(3)}}),m=(e,t)=>t.toLowerCase().includes(e.toLowerCase()),f=(e,t,n)=>{let i=e.products.product.filter(e=>{let{Name:n}=e;return m(t,n[0])}),r=JSON.parse([...new Set(i.map(e=>{let{Product_ID:t,Product_URL:n,Page_Title:i,Name:r,...l}=e;return JSON.stringify(l)}))][0]);n(r)};t.default=(0,c.Z)(x)(function(e){let{classes:t}=e,[n,c]=(0,r.useState)(""),[x,j]=(0,r.useState)({}),[g,Z]=(0,r.useState)(""),[P,w]=(0,r.useState)(null),[b,_]=(0,r.useState)(null);return(0,i.jsx)(l.Z,{maxWidth:"xs",children:(0,i.jsx)(a.Z,{component:"form",onSubmit:e=>{e.preventDefault();let t=new FormData(e.target),n=Object.fromEntries(t),i=Object.entries(n).reduce((e,t)=>{let[n,i]=t;return{...e,[n]:[i]}},{});console.log("formPropsAsArrays:",i);let r={...x,products:{...x.products,product:[...x.products.product.map(e=>m(g,e.Name[0])?{...e,...i}:e)]}},l=new h.Builder().buildObject(r),a=new Blob([l],{type:"text/xml"}),s=window.URL.createObjectURL(a);_(s)},children:(0,i.jsxs)(s.ZP,{container:!0,spacing:10,children:[(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsxs)(d.Z,{component:"label",variant:"text",startIcon:(0,i.jsx)(p.Z,{}),fullWidth:!0,children:["Upload XML",(0,i.jsx)("input",{type:"file",accept:".xml",hidden:!0,onChange:e=>{let{target:{files:t}}=e;if(!t)return;let n=t[0],{name:i}=n;c(i.split(".xml")[0]);let r=new FileReader;r.onload=e=>{var t;if(!(null==e?void 0:null===(t=e.target)||void 0===t?void 0:t.result))return;let{result:n}=e.target;(0,h.parseString)(n,function(e,t){j(t)})},r.readAsText(n)}})]})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{label:"Shared Product Name Text",value:g,onChange:e=>{let{target:{value:t}}=e;Z(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),f(x,g,w))},fullWidth:!0})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{variant:"outlined",onClick:()=>{f(x,g,w)},fullWidth:!0,children:"Submit"})}),P&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{name:"Description",label:"Description",defaultValue:P.Description,fullWidth:!0})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{name:"Calculated_Price",label:"Price",defaultValue:P.Calculated_Price,InputProps:{startAdornment:(0,i.jsx)(u.Z,{position:"start",children:"$"})},fullWidth:!0})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{name:"Fixed_Shipping_Price",label:"Shipping Price",defaultValue:P.Fixed_Shipping_Price,InputProps:{startAdornment:(0,i.jsx)(u.Z,{position:"start",children:"$"})},fullWidth:!0})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(o.Z,{name:"Weight",label:"Weight",defaultValue:P.Weight,InputProps:{endAdornment:(0,i.jsx)(u.Z,{position:"start",children:"g"})},fullWidth:!0})}),(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)(d.Z,{variant:"outlined",type:"submit",fullWidth:!0,children:"Submit"})})]}),b&&(0,i.jsx)(s.ZP,{item:!0,xs:12,children:(0,i.jsx)("a",{href:b,download:"".concat(n,"-modified"),children:(0,i.jsx)(d.Z,{variant:"contained",fullWidth:!0,children:"Download Modified XML"})})})]})})})})}},function(e){e.O(0,[394,774,888,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);